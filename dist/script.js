(()=>{"use strict";function t(t,e=document){return e.querySelector(t)}!function(){const e=t("#form");if(!e)return;const n=t("#add-parameter-button",e);let o=0;e.addEventListener("submit",(t=>{t.preventDefault();const n=function(t){const e=new FormData(t);return Object.fromEntries(e)}(e),o=n?.url||"";if(console.log(n),!o)return alert("You must enter a valid URL (e.g. https://www.example.com)"),void t.target.elements.url.focus();const a={};for(let t=1;n[`key-${t}`]&&n[`value-${t}`];t++)a[n[`key-${t}`]]=n[`value-${t}`];const i=function(t,e={}){const n=new URL(t);for(const t in e){const o=e[t];n.searchParams.append(t,o)}return n.href}(o,a);i&&function(t){let e=null;null!==e&&e.remove(),e=document.createElement("div"),e.innerHTML=`\n    <div class="modal fade" tabindex="-1">\n      <div class="modal-dialog modal-dialog-centered">\n        <div class="modal-content">\n          <div class="modal-header bg-light">\n            <h5 class="modal-title">Copy URL</h5>\n            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n          </div>\n          <div class="modal-body">\n            <p>Your URL is created. You can copy it now.</p>\n            <div class="input-group">\n              <input type="text" id="result-input" class="form-control" value="${t}" readonly>\n              <button type="button" id="copy-button" class="btn btn-primary"><i class="bi bi-clipboard-fill me-2" aria-hidden="true"></i>Copy</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;const n=e.querySelector("#copy-button");n.addEventListener("click",(e=>{var o;(o=t)&&function(t,e=function(){},n=function(){}){navigator.clipboard?navigator.clipboard.writeText(t).then((function(){e()})).catch((function(t){n(),console.error("Async: Could not copy text: ",t)})):function(t,e=function(){},n=function(){}){const o=document.createElement("textarea");o.value=t,o.style.top="0",o.style.left="0",o.style.position="fixed",document.body.appendChild(o),o.focus(),o.select();try{document.execCommand("copy")?e():n()}catch(t){n(),console.error("Fallback: Unable to copy",t)}document.body.removeChild(o)}(t,e,n)}(o),n.textContent="âœ… Copied"})),document.body.append(e),new bootstrap.Modal(e.querySelector(".modal")).show()}(i)})),n.addEventListener("click",(()=>{o++,function(t){const e=document.createElement("div");e.classList.add("input-group","mb-3");const n=document.createElement("label");n.classList.add("input-group-text"),n.setAttribute("for",`key-${t}`),n.textContent="Key";const o=document.createElement("input");o.classList.add("form-control"),o.setAttribute("type","text"),o.setAttribute("name",`key-${t}`),o.setAttribute("id",`key-${t}`),o.setAttribute("list","keys_list"),o.setAttribute("placeholder","e.g. source"),o.setAttribute("required","true");const a=document.createElement("label");a.classList.add("input-group-text"),a.setAttribute("for",`value-${t}`),a.textContent="Value";const i=document.createElement("input");i.classList.add("form-control"),i.setAttribute("type","text"),i.setAttribute("name",`value-${t}`),i.setAttribute("id",`value-${t}`),i.setAttribute("list","values_list"),i.setAttribute("placeholder","e.g. instagram"),i.setAttribute("required","true");const l=document.createElement("button");l.type="button",l.classList.add("btn","btn-sm","btn-danger"),l.innerHTML='<i class="bi bi-trash3-fill" aria-label="Delete parameters"></i>',l.addEventListener("click",(()=>{l.parentNode.remove()})),e.appendChild(n),e.appendChild(o),e.appendChild(a),e.appendChild(i),e.appendChild(l),document.querySelector("#repeatable-inputs").appendChild(e)}(o)}))}()})();